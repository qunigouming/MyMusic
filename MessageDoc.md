# SessionServer 消息格式

### 请求枚举：LOGIN_USER_REQ
**请求参数**：

| 字段  |  说明 | 类型  | 备注  | 是否必填  |
| ------------ | ------------ | ------------ | ------------ | ------------ |
| uid  | 用户uid  |  int | 数据库存储  | 是  |
| token  | 验证token  | string  | StatusServer生成，唯一  | 是 |

**返回参数**：

| 字段  | 说明  |  类型 | 备注  | 是否必填  |
| ------------ | ------------ | ------------ | ------------ | ------------ |
|  error | 错误类型  | enum  | 错误枚举  | 是  |
|  user_self_info | 用户基本信息  |  Object | 无  | 是  |
| music_list  | 音乐列表信息  | Array  | 无  | 是  |

user_self_info:

| 字段  | 说明  |  类型 | 备注  | 是否必填  |
| ------------ | ------------ | ------------ | ------------ | ------------ |
|  uid |   | int  |   | 是  |
| name  |  姓名 | string  |   | 是  |
| sex  | 性别  |  int |   | 是  |
| icon  | 头像  | string  | 0：未知 <br> 1：男 <br> 2：女 |  是 |
| email  |   | string  |   | 是  |

music_list:

| 字段  | 说明  |  类型 | 备注  | 是否必填  |
| ------------ | ------------ | ------------ | ------------ | ------------ |
| id  |  歌曲id | int  |   | 是  |
|  title | 歌名  |  string |   | 是  |
| album  | 专辑  | string  |   | 是  |
| song_icon  | 封面  | string  | 图片地址  | 是  |
| artists  | 作者名  |  string | 多作者用/分隔  |  是 |
| duration  | 时长  | int  | 单位 s  | 是  |
| file_url  | 文件路径  | string  |  播放地址 |  是 |
| is_like  | 是否喜欢  |  bool | 0: 不喜欢 <br> 1: 喜欢 | 是  |

### 请求枚举：ID_HEARTBEAT_REQ
**请求参数**：

| 字段  | 说明  |  类型 | 备注  | 是否必填  |
| ------------ | ------------ | ------------ | ------------ | ------------ |
| fromuid  | 用户uid  |  int |   | 是  |

**返回参数**：

| 字段  | 说明  |  类型 | 备注  | 是否必填  |
| ------------ | ------------ | ------------ | ------------ | ------------ |
|  error | 错误类型  | enum  | 错误枚举  | 是  |
| fromuid  | 用户uid  |  int |   | 是  |

### 请求枚举：ID_UPLOAD_FILE_REQ
**请求参数**：

| 字段  | 说明  |  类型 | 备注  | 是否必填  |
| ------------ | ------------ | ------------ | ------------ | ------------ |
| md5  | 文件数据hash值  |  string |   | 是  |
| name  | 文件名  |  string |   | 是  |
| seq  | 当前切片次序  |  int |   | 是  |
| trans_size  | 当前传输大小  |  int |   | 是  |
| total_size  | 文件总大小  |  int |   | 是  |
| last  | 当前传输大小是否超过最大限制  |  bool |0：是 <br> 1：否| 是  |
| data  | 文件数据  |  int | base64加密  | 是  |
| last_seq  | 总次序  |  int |   | 是  |

**返回参数**：

| 字段  | 说明  |  类型 | 备注  | 是否必填  |
| ------------ | ------------ | ------------ | ------------ | ------------ |
|  error | 错误类型  | enum  | 错误枚举  | 是  |
| seq  | 当前切片次序  |  int |   | 是  |
| name  | 文件路径  |  string |  绝对路径 | 是  |
| trans_size  | 当前传输大小  |  int |   | 是  |
| total_size  | 文件总大小  |  int |   | 是  |

### 请求枚举：ID_UPLOAD_META_TYPE_REQ
**请求参数**：

| 字段  | 说明  |  类型 | 备注  | 是否必填  |
| ------------ | ------------ | ------------ | ------------ | ------------ |
| title  | 歌名  |  string |   | 是  |
| album  | 专辑名  |  string |   | 是  |
| artists  | 作者  |  string | 多作者下用/分隔  | 是  |
| duration  | 时长  |  int | 单位 s  | 是  |
| track  | 在专辑中的序号  |  int | 从1开始  | 是  |
| description | 专辑描述  |  string |   | 是  |
| icon  | 封面  |  string |   | 是  |
| release_date  | 发布日期  |  string |   | 是  |

**返回参数**：

| 字段  | 说明  |  类型 | 备注  | 是否必填  |
| ------------ | ------------ | ------------ | ------------ | ------------ |
|  error | 错误类型  | enum  | 错误枚举  | 是  |

### 请求枚举：ID_COLLECT_SONG_REQ
**请求参数**：

| 字段  | 说明  |  类型 | 备注  | 是否必填  |
| ------------ | ------------ | ------------ | ------------ | ------------ |
| fromUid  | 用户id  |  int |   | 是  |
| song_id  | 歌曲id  |  int |   | 是  |
| status  | 是否收藏  |  bool |  0：取消收藏 <br> 1：收藏 | 是  |
| flag  | 是否为默认歌单  |  bool | 0：是 <br> 1：否  | 是  |

**返回参数**：

| 字段  | 说明  |  类型 | 备注  | 是否必填  |
| ------------ | ------------ | ------------ | ------------ | ------------ |
|  error | 错误类型  | enum  | 错误枚举  | 是  |

### 请求枚举：ID_GET_COLLECT_SONG_LIST_INFO_REQ
**请求参数**：

| 字段  | 说明  |  类型 | 备注  | 是否必填  |
| ------------ | ------------ | ------------ | ------------ | ------------ |
| fromUid  | 用户id  |  int |   | 是  |
| song_list_id  | 歌单id  |  int |   | 否  |
| flag  | 是否为默认歌单  |  bool | 0：是 <br> 1：否  | 是  |

**返回参数**：

| 字段  | 说明  |  类型 | 备注  | 是否必填  |
| ------------ | ------------ | ------------ | ------------ | ------------ |
|  error | 错误类型  | enum  | 错误枚举  | 是  |
| title  | 歌单名称  |  string |   | 是  |
| cover_url  | 歌单封面url  |  string |   | 是  |
| description  | 歌单描述  |  string |   | 是  |
| author  | 作者名  |  string |   | 是  |
| authorIcon  | 作者头像  |  string |   | 是  |
| createTime  | 创建时间  |  string |   | 是  |

### 请求枚举：ID_GET_COLLECT_SONG_LIST_REQ
**请求参数**：

| 字段  | 说明  |  类型 | 备注  | 是否必填  |
| ------------ | ------------ | ------------ | ------------ | ------------ |
| fromUid  | 用户id  |  int |   | 是  |
| playlist_name  | 歌单名称  |  string |   | 是  |

**返回参数**：

| 字段  | 说明  |  类型 | 备注  | 是否必填  |
| ------------ | ------------ | ------------ | ------------ | ------------ |
|  error | 错误类型  | enum  | 错误枚举  | 是  |
| music_list  | 音乐列表信息  | Array  | 无  | 是  |

music_list:

| 字段  | 说明  |  类型 | 备注  | 是否必填  |
| ------------ | ------------ | ------------ | ------------ | ------------ |
| id  |  歌曲id | int  |   | 是  |
|  title | 歌名  |  string |   | 是  |
| album  | 专辑  | string  |   | 是  |
| song_icon  | 封面  | string  | 图片地址  | 是  |
| artists  | 作者名  |  string | 多作者用/分隔  |  是 |
| duration  | 时长  | int  | 单位 s  | 是  |
| file_url  | 文件路径  | string  |  播放地址 |  是 |
| is_like  | 是否喜欢  |  bool | 0: 不喜欢 <br> 1: 喜欢 | 是  |
